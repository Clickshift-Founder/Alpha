
<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-75MZH565VW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-75MZH565VW');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ClickShift Alpha - Predictive Trading Intelligence</title>
    <meta name="description" content="The world's first platform combining real-time launch detection with predictive market analysis. Get exclusive alpha on crypto trades.">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', 'Helvetica Neue', sans-serif;
            background: linear-gradient(135deg, #0A1C3D 0%, #245EED 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            gap: 15px;
        }
        
        .animated-logo {
            width: 80px;
            height: 80px;
            position: relative;
        }
        
        .logo-svg {
            width: 100%;
            height: 100%;
            filter: drop-shadow(0 8px 25px rgba(36, 94, 237, 0.3));
        }
        
        .brand-name {
            font-size: 2.8em;
            font-weight: 700;
            color: #0A1C3D;
            margin-bottom: 5px;
        }
        
        .product-name {
            font-size: 1.8em;
            font-weight: 600;
            background: linear-gradient(45deg, #245EED, #26C281);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }
        
        .tagline {
            font-size: 1.2em;
            color: #666;
            margin-bottom: 15px;
            font-weight: 400;
        }
        
        .beta-badge {
            display: inline-block;
            background: linear-gradient(45deg, #FF7E00, #FFB347);
            color: white;
            padding: 8px 18px;
            border-radius: 25px;
            font-size: 0.9em;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.8px;
            box-shadow: 0 4px 15px rgba(255, 126, 0, 0.3);
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .input-section {
            background: rgba(255, 255, 255, 0.95);
            padding: 35px;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .section-title {
            font-size: 1.4em;
            font-weight: 600;
            color: #0A1C3D;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .demo-disclaimer {
            background: linear-gradient(135deg, rgba(36, 94, 237, 0.1), rgba(38, 194, 129, 0.1));
            border: 2px solid rgba(36, 94, 237, 0.3);
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 20px;
            text-align: center;
        }

        .demo-disclaimer h4 {
            color: #245EED;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .demo-disclaimer p {
            color: #666;
            font-size: 0.9em;
        }
        
        .input-group {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .input-field {
            flex: 1;
            min-width: 300px;
            padding: 16px 20px;
            border: 2px solid #E5E5E5;
            border-radius: 12px;
            font-size: 1.1em;
            font-family: 'Poppins', sans-serif;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.9);
        }
        
        .input-field:focus {
            outline: none;
            border-color: #245EED;
            box-shadow: 0 0 0 3px rgba(36, 94, 237, 0.1);
            background: white;
        }
        
        .analyze-btn {
            background: linear-gradient(45deg, #245EED, #26C281);
            color: white;
            border: none;
            padding: 16px 32px;
            border-radius: 12px;
            font-size: 1.1em;
            font-weight: 600;
            font-family: 'Poppins', sans-serif;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 160px;
            box-shadow: 0 8px 25px rgba(36, 94, 237, 0.3);
        }
        
        .analyze-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(36, 94, 237, 0.4);
        }
        
        .analyze-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        .quick-tokens {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            margin-top: 20px;
            align-items: center;
        }
        
        .quick-label {
            font-weight: 600;
            color: #0A1C3D;
            margin-right: 5px;
        }
        
        .quick-token {
            background: rgba(36, 94, 237, 0.1);
            border: 2px solid rgba(36, 94, 237, 0.2);
            padding: 10px 18px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9em;
            font-weight: 500;
            color: #245EED;
        }
        
        .quick-token:hover {
            background: #245EED;
            color: white;
            transform: translateY(-1px);
            box-shadow: 0 6px 20px rgba(36, 94, 237, 0.3);
        }
        
        .coming-soon {
            background: linear-gradient(135deg, rgba(38, 194, 129, 0.1), rgba(36, 94, 237, 0.1));
            border: 2px solid rgba(36, 94, 237, 0.2);
            padding: 20px;
            border-radius: 15px;
            margin-top: 25px;
            text-align: center;
        }
        
        .coming-soon h3 {
            color: #0A1C3D;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        .coming-soon p {
            color: #666;
            font-size: 0.95em;
        }
        
        .results-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 35px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            display: none;
        }
        
        .token-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 35px;
        }
        
        .info-card {
            background: linear-gradient(135deg, rgba(36, 94, 237, 0.05), rgba(38, 194, 129, 0.05));
            padding: 24px;
            border-radius: 16px;
            border-left: 4px solid #245EED;
            transition: transform 0.2s ease;
        }
        
        .info-card:hover {
            transform: translateY(-2px);
        }
        
        .info-card h3 {
            margin-bottom: 12px;
            color: #0A1C3D;
            font-weight: 600;
            font-size: 0.95em;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .info-card .value {
            font-size: 1.6em;
            font-weight: 700;
            color: #0A1C3D;
            margin-bottom: 5px;
        }
        
        .info-card .change {
            font-size: 0.9em;
            font-weight: 500;
        }
        
        .positive {
            color: #26C281;
        }
        
        .negative {
            color: #FF7E00;
        }
        
        .analysis-section {
            margin: 35px 0;
        }
        
        .analysis-title {
            font-size: 1.4em;
            margin-bottom: 20px;
            color: #0A1C3D;
            font-weight: 600;
            border-bottom: 2px solid #E5E5E5;
            padding-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .cluster-item, .analysis-card {
            background: linear-gradient(135deg, rgba(36, 94, 237, 0.03), rgba(38, 194, 129, 0.03));
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 16px;
            border-left: 4px solid #245EED;
            transition: all 0.2s ease;
        }
        
        .cluster-item:hover, .analysis-card:hover {
            transform: translateX(3px);
            box-shadow: 0 8px 25px rgba(36, 94, 237, 0.1);
        }
        
        .cluster-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .cluster-price {
            font-size: 1.2em;
            font-weight: 600;
            color: #0A1C3D;
        }
        
        .cluster-change {
            background: linear-gradient(45deg, #245EED, #26C281);
            color: white;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
        }
        
        .cluster-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 12px;
            font-size: 0.9em;
            color: #666;
        }
        
        .cluster-details strong {
            color: #0A1C3D;
        }
        
        .risk-indicator, .pump-indicator {
            display: inline-block;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 600;
            margin-bottom: 18px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-size: 0.9em;
        }
        
        .risk-low { background: linear-gradient(45deg, #26C281, #4CAF50); color: white; }
        .risk-moderate { background: linear-gradient(45deg, #FFB347, #FF7E00); color: white; }
        .risk-high { background: linear-gradient(45deg, #FF7E00, #FF6B6B); color: white; }
        .risk-extreme { background: linear-gradient(45deg, #FF6B6B, #FF4757); color: white; }
        
        .pump-very-high { background: linear-gradient(45deg, #26C281, #00D4AA); color: white; }
        .pump-high { background: linear-gradient(45deg, #4CAF50, #26C281); color: white; }
        .pump-moderate { background: linear-gradient(45deg, #FFB347, #26C281); color: white; }
        .pump-low { background: linear-gradient(45deg, #E5E5E5, #B0B0B0); color: #666; }

        .entry-recommendation {
            background: linear-gradient(135deg, rgba(38, 194, 129, 0.1), rgba(76, 175, 80, 0.1));
            border: 2px solid rgba(38, 194, 129, 0.3);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .entry-recommendation h3 {
            color: #26C281;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .recommendation-badge {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9em;
            margin-bottom: 15px;
        }

        .rec-buy { background: linear-gradient(45deg, #26C281, #4CAF50); color: white; }
        .rec-wait { background: linear-gradient(45deg, #FFB347, #FF7E00); color: white; }
        .rec-avoid { background: linear-gradient(45deg, #FF6B6B, #FF4757); color: white; }

        .price-targets {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
            padding: 15px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 10px;
        }

        .target-item {
            text-align: center;
            padding: 10px;
            border-radius: 8px;
            background: rgba(36, 94, 237, 0.1);
        }

        .target-price {
            font-size: 1.2em;
            font-weight: 600;
            color: #0A1C3D;
        }

        .target-mcap {
            font-size: 0.9em;
            color: #666;
            margin-top: 5px;
        }

        .safety-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.8em;
            font-weight: 600;
            margin-left: 10px;
        }

        .safety-high { background: #26C281; color: white; }
        .safety-medium { background: #FFB347; color: white; }
        .safety-low { background: #FF7E00; color: white; }
        .safety-very-low { background: #FF6B6B; color: white; }
        
        .loading {
            text-align: center;
            padding: 50px;
        }
        
        .spinner {
            border: 4px solid rgba(36, 94, 237, 0.1);
            border-top: 4px solid #245EED;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 25px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .loading h3 {
            color: #0A1C3D;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .loading p {
            color: #666;
        }
        
        .error {
            background: linear-gradient(135deg, rgba(255, 126, 0, 0.1), rgba(255, 107, 107, 0.1));
            border: 2px solid rgba(255, 126, 0, 0.3);
            color: #0A1C3D;
            padding: 20px;
            border-radius: 15px;
            margin: 25px 0;
        }
        
        .footer {
            text-align: center;
            margin-top: 60px;
            padding: 30px;
            color: rgba(255, 255, 255, 0.9);
        }
        
        .footer p {
            margin-bottom: 8px;
        }
        
        .country-flags {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 12px;
            flex-wrap: wrap;
            margin: 15px 0;
        }
        
        .country-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
        }
        
        .flag-emoji {
            font-size: 20px;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
        }
        
        .country-code {
            font-size: 0.75em;
            opacity: 0.8;
            font-weight: 500;
        }
        
        .feedback-section {
            background: linear-gradient(135deg, rgba(38, 194, 129, 0.1), rgba(36, 94, 237, 0.1));
            padding: 25px;
            border-radius: 15px;
            margin-top: 30px;
            text-align: center;
        }
        
        .feedback-title {
            color: #0A1C3D;
            font-weight: 600;
            margin-bottom: 15px;
        }
        
        .feedback-buttons {
            display: flex;
            gap: 12px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 15px;
        }
        
        .feedback-btn {
            background: rgba(36, 94, 237, 0.1);
            border: 2px solid rgba(36, 94, 237, 0.2);
            color: #245EED;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
        }
        
        .feedback-btn:hover, .feedback-btn.active {
            background: #245EED;
            color: white;
        }
        
        .feedback-text {
            width: 100%;
            padding: 12px;
            border: 2px solid #E5E5E5;
            border-radius: 10px;
            font-family: 'Poppins', sans-serif;
            resize: vertical;
            min-height: 60px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .input-group {
                flex-direction: column;
            }
            
            .input-field {
                min-width: auto;
            }
            
            .brand-name {
                font-size: 2.2em;
            }
            
            .token-info {
                grid-template-columns: 1fr;
            }
            
            .cluster-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .feedback-buttons {
                flex-direction: column;
            }
            
            .country-flags {
                gap: 8px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo-container">
                <div class="animated-logo">
                    <svg class="logo-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <linearGradient id="shieldGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#245EED;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#26C281;stop-opacity:1" />
                            </linearGradient>
                            <filter id="glow">
                                <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                                <feMerge> 
                                    <feMergeNode in="coloredBlur"/>
                                    <feMergeNode in="SourceGraphic"/>
                                </feMerge>
                            </filter>
                        </defs>
                        
                        <path d="M50 10 L80 25 L80 60 C80 75 50 90 50 90 C50 90 20 75 20 60 L20 25 Z" 
                              fill="url(#shieldGradient)" 
                              stroke="#ffffff" 
                              stroke-width="1"
                              filter="url(#glow)">
                            <animateTransform
                                attributeName="transform"
                                attributeType="XML"
                                type="scale"
                                values="1;1.05;1"
                                dur="3s"
                                repeatCount="indefinite"/>
                        </path>
                        
                        <path d="M40 35 C35 35 30 40 30 45 L30 55 C30 60 35 65 40 65 L45 65 M40 40 L45 40" 
                              fill="none" 
                              stroke="white" 
                              stroke-width="3" 
                              stroke-linecap="round">
                            <animate
                                attributeName="stroke-dasharray"
                                values="0,100;100,0;0,100"
                                dur="4s"
                                repeatCount="indefinite"/>
                        </path>
                        
                        <path d="M55 40 C55 37 57 35 60 35 L65 35 C68 35 70 37 70 40 C70 43 68 45 65 45 L60 45 C57 45 55 47 55 50 C55 53 57 55 60 55 L65 55 C68 55 70 53 70 50" 
                              fill="none" 
                              stroke="white" 
                              stroke-width="3" 
                              stroke-linecap="round">
                            <animate
                                attributeName="stroke-dasharray"
                                values="0,100;100,0;0,100"
                                dur="4s"
                                begin="0.5s"
                                repeatCount="indefinite"/>
                        </path>
                        
                        <circle cx="25" cy="30" r="2" fill="#26C281">
                            <animate attributeName="opacity" values="0.3;1;0.3" dur="2s" repeatCount="indefinite"/>
                        </circle>
                        <circle cx="75" cy="35" r="2" fill="#245EED">
                            <animate attributeName="opacity" values="0.3;1;0.3" dur="2s" begin="0.7s" repeatCount="indefinite"/>
                        </circle>
                        <circle cx="30" cy="70" r="2" fill="#26C281">
                            <animate attributeName="opacity" values="0.3;1;0.3" dur="2s" begin="1.4s" repeatCount="indefinite"/>
                        </circle>
                        <circle cx="70" cy="70" r="2" fill="#245EED">
                            <animate attributeName="opacity" values="0.3;1;0.3" dur="2s" begin="2.1s" repeatCount="indefinite"/>
                        </circle>
                    </svg>
                </div>
                <div>
                    <div class="brand-name">ClickShift</div>
                    <div class="product-name">Alpha</div>
                </div>
            </div>
            <p class="tagline">Predictive Trading Intelligence Platform</p>
            <span class="beta-badge">Alpha Access</span>
            <p style="margin-top: 20px; font-size: 1em; color: #666;">Get exclusive alpha on crypto trades before anyone else</p>
        </div>
        
        <div class="input-section">
            <h2 class="section-title">🔍 Analyze Any Solana Token</h2>
            
            <!-- DEMO DISCLAIMER -->
            <div class="demo-disclaimer">
                <h4>🚀 Demo Preview - Advanced Analysis Engine</h4>
                <p>Showcasing our proprietary algorithms with estimated market intelligence. Production version will use real-time on-chain data.</p>
            </div>
            
            <div class="input-group">
                <input 
                    type="text" 
                    id="contractAddress" 
                    class="input-field" 
                    placeholder="Paste Solana contract address, token symbol (bonk, wif), or supported identifier"
                >
                <button id="analyzeBtn" class="analyze-btn">Get Alpha</button>
            </div>
            
            <div class="quick-tokens">
                <span class="quick-label">Quick Alpha:</span>
                <div class="quick-token" onclick="analyzeQuickToken('DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263')">BONK</div>
                <div class="quick-token" onclick="analyzeQuickToken('EKpQGSJtjMFqKZ9KQanSqYXRcF8fBopzLHYxdM65zcjm')">WIF</div>
                <div class="quick-token" onclick="analyzeQuickToken('7GCihgDB8fe6KNjn2MYtkzZcRjQy3t9GHdC8uHYmW2hr')">POPCAT</div>
                <div class="quick-token" onclick="analyzeQuickToken('7GCihgDB8fe6KNjn2MYtkzZcRjQy3t9GHdC8uHYmW2hr')">POPCAT</div>
                <div class="quick-token" onclick="analyzeQuickToken('JUPyiwrYJFskUPiHa7hkeR8VUtAeFoSYbKedZNsDvCN')">JUP</div>
                <div class="quick-token" onclick="analyzeQuickToken('HZ1JovNiVvGrGNiiYvEozEVgZ58xaU3RKwX8eACQBCt3')">PYTH</div>
            </div>
            
            <div class="coming-soon">
                <h3>🚀 Coming Soon: Real-Time Launch Detection</h3>
                <p>Get instant alerts for new Solana launches with safety analysis</p>
            </div>

            <div class="coming-soon" style="margin-top: 15px;">
                <h3>📊 Coming Soon: Futures Trading Intelligence</h3>
                <p>Advanced leverage analysis and position management tools</p>
            </div>
        </div>
        
        <div id="results" class="results-section">
            <div id="loading" class="loading">
                <div class="spinner"></div>
                <h3>Generating Alpha Intelligence...</h3>
                <p>Analyzing market patterns, exit clusters, whale behavior, and entry opportunities...</p>
            </div>
            
            <div id="content" style="display: none;">
                <!-- Entry Recommendation Section -->
                <div class="entry-recommendation" id="entryRecommendation" style="display: none;">
                    <h3>📍 Smart Entry Point Analysis</h3>
                    <div id="entryContent">
                        <!-- Entry recommendation will be populated here -->
                    </div>
                </div>

                <!-- Risk Assessment Section - Moved up for better UX -->
                <div class="analysis-section" id="riskSection" style="display: none;">
                    <h2 class="analysis-title">⚠️ Risk Assessment</h2>
                    <div id="riskAssessment">
                        <!-- Risk assessment will be populated here -->
                    </div>
                </div>

                <div class="token-info" id="tokenInfo">
                    <!-- Token info cards will be populated here -->
                </div>
                
                <div class="analysis-section">
                    <h2 class="analysis-title">🚀 Alpha Signal Analysis</h2>
                    <div id="pumpAnalysis">
                        <!-- Pump analysis will be populated here -->
                    </div>
                </div>
                
                <div class="analysis-section">
                    <h2 class="analysis-title">🎯 Exit Cluster Intelligence</h2>
                    <div id="exitClusters">
                        <!-- Exit clusters will be populated here -->
                    </div>
                </div>
                
                <div class="analysis-section">
                    <h2 class="analysis-title">🐋 Whale Activity Monitor</h2>
                    <div id="whaleAnalysis">
                        <!-- Whale analysis will be populated here -->
                    </div>
                </div>
                
                <div class="feedback-section">
                    <h3 class="feedback-title">💎 Join ClickShift Alpha Community</h3>
                    <p style="margin-bottom: 20px; color: #666;">Help us build the future of trading intelligence and get <strong>FREE alpha access</strong> when we launch!</p>
                    
                    <div style="margin-bottom: 20px;">
                        <strong>Rate this alpha analysis:</strong>
                        <div class="feedback-buttons" style="margin-top: 10px;">
                            <button class="feedback-btn" onclick="setFeedback(5)">🔥 Incredible</button>
                            <button class="feedback-btn" onclick="setFeedback(4)">💎 Great</button>
                            <button class="feedback-btn" onclick="setFeedback(3)">👍 Good</button>
                            <button class="feedback-btn" onclick="setFeedback(2)">🤔 Okay</button>
                            <button class="feedback-btn" onclick="setFeedback(1)">👎 Needs Work</button>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <strong>Which blockchain do you primarily trade on?</strong>
                        <div class="feedback-buttons" style="margin-top: 8px;">
                            <button class="feedback-btn" onclick="setChain('Solana')">Solana</button>
                            <button class="feedback-btn" onclick="setChain('Ethereum')">Ethereum</button>
                            <button class="feedback-btn" onclick="setChain('BSC')">BSC</button>
                            <button class="feedback-btn" onclick="setChain('Base')">Base</button>
                            <button class="feedback-btn" onclick="setChain('Polygon')">Polygon</button>
                            <button class="feedback-btn" onclick="setChain('Other')">Other</button>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <strong>What type of trading do you do most?</strong>
                        <div class="feedback-buttons" style="margin-top: 8px;">
                            <button class="feedback-btn" onclick="setTradingType('Spot')">Spot Trading</button>
                            <button class="feedback-btn" onclick="setTradingType('Futures')">Futures/Leverage</button>
                            <button class="feedback-btn" onclick="setTradingType('Both')">Both Equally</button>
                            <button class="feedback-btn" onclick="setTradingType('DeFi')">DeFi/Yield</button>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <strong>Email (for alpha access notifications):</strong>
                        <input type="email" id="userEmail" placeholder="your.email@example.com" style="width: 100%; padding: 10px; border: 2px solid #E5E5E5; border-radius: 8px; margin-top: 8px; font-family: 'Poppins', sans-serif;">
                    </div>
                    
                    <textarea class="feedback-text" id="feedbackText" placeholder="What alpha features would you like to see? (Launch detection, auto-trading, portfolio management, etc.)"></textarea>
                    
                    <button onclick="submitFeedback()" style="background: linear-gradient(45deg, #245EED, #26C281); color: white; border: none; padding: 12px 24px; border-radius: 8px; font-weight: 600; cursor: pointer; margin-top: 10px;">
                        🚀 Join Alpha Community
                    </button>
                    
                    <p style="margin-top: 15px; font-size: 0.9em; color: #666;">
                        💎 <strong>Alpha Access Benefit:</strong> Free premium features for early adopters!
                    </p>
                </div>
            </div>
        </div>
    </div>
    
    <div class="footer">
        <p><strong>© 2025 ClickShift</strong> - Building DeFi's Intelligence Infrastructure</p>
        <div class="country-flags">
            <span style="opacity: 0.8; margin-right: 15px;">Trusted globally:</span>
           <div class="country-item">
               <span class="flag-emoji">🇺🇸</span>
               <span class="country-code">USA</span>
           </div>
           <div class="country-item">
               <span class="flag-emoji">🇬🇧</span>
               <span class="country-code">UK</span>
           </div>
           <div class="country-item">
               <span class="flag-emoji">🇦🇪</span>
               <span class="country-code">UAE</span>
           </div>
           <div class="country-item">
               <span class="flag-emoji">🇳🇬</span>
               <span class="country-code">Nigeria</span>
           </div>
           <div class="country-item">
               <span class="flag-emoji">🇸🇬</span>
               <span class="country-code">Singapore</span>
           </div>
           <div class="country-item">
               <span class="flag-emoji">🇸🇷</span>
               <span class="country-code">El Salvador</span>
           </div>
           <div class="country-item">
               <span class="flag-emoji">🇮🇳</span>
               <span class="country-code">India</span>
           </div>
           <div class="country-item">
               <span class="flag-emoji">🇨🇳</span>
               <span class="country-code">China</span>
           </div>
       </div>
       <p>Contact: clickndshift@gmail.com | trust@clickshift.io</p>
       <p style="opacity: 0.8;">Empowering traders worldwide with predictive alpha</p>
   </div>

   <script>
       // Demo Configuration - Enhanced algorithms for impressive analysis
       const DEMO_CONFIG = {
           WHALE_THRESHOLD: 10000,
           CLUSTER_THRESHOLD: 5,
           MODE: 'DEMO_PREVIEW' // Shows algorithmic potential
       };
       
       let userFeedback = {
           rating: null,
           chain: null,
           tradingType: null,
           email: '',
           comment: '',
           timestamp: null,
           features: []
       };
       
       // Initialize
       document.addEventListener('DOMContentLoaded', function() {
           document.getElementById('analyzeBtn').addEventListener('click', analyzeToken);
           document.getElementById('contractAddress').addEventListener('keypress', function(e) {
               if (e.key === 'Enter') {
                   analyzeToken();
               }
           });
       });
       
       // Feedback functions (unchanged)
       function setFeedback(rating) {
           userFeedback.rating = rating;
           userFeedback.timestamp = new Date().toISOString();
           
           document.querySelectorAll('.feedback-btn').forEach(btn => {
               if (btn.textContent.includes('Incredible') && rating === 5) btn.classList.add('active');
               else if (btn.textContent.includes('Great') && rating === 4) btn.classList.add('active');
               else if (btn.textContent.includes('Good') && rating === 3) btn.classList.add('active');
               else if (btn.textContent.includes('Okay') && rating === 2) btn.classList.add('active');
               else if (btn.textContent.includes('Needs Work') && rating === 1) btn.classList.add('active');
               else btn.classList.remove('active');
           });
       }
       
       function setChain(chain) {
           userFeedback.chain = chain;
           document.querySelectorAll('.feedback-btn').forEach(btn => {
               if (btn.textContent === chain) btn.classList.add('active');
               else if (['Solana', 'Ethereum', 'BSC', 'Base', 'Polygon', 'Other'].includes(btn.textContent)) {
                   btn.classList.remove('active');
               }
           });
       }
       
       function setTradingType(type) {
           userFeedback.tradingType = type;
           document.querySelectorAll('.feedback-btn').forEach(btn => {
               if (btn.textContent === type) btn.classList.add('active');
               else if (['Spot Trading', 'Futures/Leverage', 'Both Equally', 'DeFi/Yield'].includes(btn.textContent)) {
                   btn.classList.remove('active');
               }
           });
       }
       
       function submitFeedback() {
           userFeedback.email = document.getElementById('userEmail').value;
           userFeedback.comment = document.getElementById('feedbackText').value;
           userFeedback.timestamp = new Date().toISOString();
           userFeedback.location = Intl.DateTimeFormat().resolvedOptions().timeZone;
           
           if (!userFeedback.rating) {
               alert('Please rate the alpha first');
               return;
           }
           
           if (!userFeedback.email) {
               alert('Please provide your email for alpha access notifications');
               return;
           }
           
           // Track feedback in Google Analytics
           if (typeof gtag !== 'undefined') {
               gtag('event', 'submit_feedback', {
                   'nps_score': userFeedback.rating,
                   'user_chain': userFeedback.chain,
                   'trading_type': userFeedback.tradingType,
                   'has_email': !!userFeedback.email,
                   'features_wanted': userFeedback.comment
               });
           }
           
           console.log('ClickShift Alpha Demo Feedback:', userFeedback);
           alert('🎉 Welcome to ClickShift Alpha! You\'ll be first to access our production-ready platform!');
           
           // Reset form
           document.querySelectorAll('.feedback-btn').forEach(btn => btn.classList.remove('active'));
           document.getElementById('userEmail').value = '';
           document.getElementById('feedbackText').value = '';
           userFeedback = { rating: null, chain: null, tradingType: null, email: '', comment: '', timestamp: null };
       }
       
       // Quick token analysis
       function analyzeQuickToken(address) {
           document.getElementById('contractAddress').value = address;
           analyzeToken();
       }

       // MAIN ANALYZE FUNCTION - THIS WAS MISSING!
       async function analyzeToken() {
           const contractAddress = document.getElementById('contractAddress').value.trim();
           
           if (!contractAddress) {
               alert('Please enter a contract address');
               return;
           }
           
           if (!isValidSolanaAddress(contractAddress)) {
               alert('Please enter a valid Solana contract address (44 characters)');
               return;
           }
           
           // Show loading
           document.getElementById('results').style.display = 'block';
           document.getElementById('loading').style.display = 'block';
           document.getElementById('content').style.display = 'none';
           document.getElementById('analyzeBtn').disabled = true;
           
           try {
               // Fetch real basic data + generate impressive demo features
               const tokenData = await getTokenDataWithDemoEnhancements(contractAddress);
               
               if (!tokenData) {
                   throw new Error('Token not found or no trading data available');
               }
               
               // Track in Google Analytics
               if (typeof gtag !== 'undefined') {
                   gtag('event', 'analyze_token', {
                       'token_symbol': tokenData.symbol,
                       'token_address': contractAddress,
                       'user_id': localStorage.getItem('user_id') || 'anonymous'
                   });
               }
               
               // Full analysis pipeline for demo
               const analysis = await generateFullDemoAnalysis(tokenData);
               
               displayFullResults(tokenData, analysis);
               logDemoUsage(contractAddress, tokenData.symbol);
               
           } catch (error) {
               showError(error.message);
           } finally {
               document.getElementById('analyzeBtn').disabled = false;
           }
       }

       // Real data + Demo enhancements with flexible identifier resolution
       async function getTokenDataWithDemoEnhancements(contractAddress) {
    try {
        // Known token mappings
        const knownTokens = {
            'bonk': 'DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263',
            'wif': 'EKpQGSJtjMFqKZ9KQanSqYXRcF8fBopzLHYxdM65zcjm',
            'popcat': '7GCihgDB8fe6KNjn2MYtkzZcRjQy3t9GHdC8uHYmW2hr',
            'sol': 'So11111111111111111111111111111111111111112',
            'jup': 'JUPyiwrYJFskUPiHa7hkeR8VUtAeFoSYbKedZNsDvCN',
            'pyth': 'HZ1JovNiVvGrGNiiYvEozEVgZ58xaU3RKwX8eACQBCt3',
            'usdc': 'EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v'
        };
        
        // Resolve symbol to contract address if needed
        let resolvedAddress = knownTokens[contractAddress.toLowerCase()] || contractAddress;
        
        // Special handling for addresses ending with "bonk"
        if (contractAddress.toLowerCase().endsWith('bonk') && contractAddress.length < 44) {
            // If it's a short identifier ending with bonk, map to the real BONK token
            resolvedAddress = knownTokens['bonk'];
            console.log('Resolved bonk variant to:', resolvedAddress);
        }
        
        console.log('Fetching data for resolved address:', resolvedAddress);
        
        // Get real data first
        const response = await fetch(`https://api.dexscreener.com/latest/dex/tokens/${resolvedAddress}`);
        const data = await response.json();
        
        if (!data.pairs || data.pairs.length === 0) {
            // If no data found and the input ended with "bonk", try the actual BONK address
            if (contractAddress.toLowerCase().endsWith('bonk') && resolvedAddress !== knownTokens['bonk']) {
                console.log('Retrying with official BONK address...');
                const retryResponse = await fetch(`https://api.dexscreener.com/latest/dex/tokens/${knownTokens['bonk']}`);
                const retryData = await retryResponse.json();
                if (retryData.pairs && retryData.pairs.length > 0) {
                    data.pairs = retryData.pairs;
                } else {
                    return null;
                }
            } else {
                return null;
            }
        }
        
        const mainPair = data.pairs.reduce((prev, current) => 
            (current.volume?.h24 || 0) > (prev.volume?.h24 || 0) ? current : prev
        );
        
        // Real data foundation
        const realData = {
            symbol: mainPair.baseToken.symbol,
            name: mainPair.baseToken.name,
            price: parseFloat(mainPair.priceUsd || 0),
            marketCap: mainPair.marketCap || 0,
            volume24h: mainPair.volume?.h24 || 0,
            liquidity: mainPair.liquidity?.usd || 0,
            priceChange24h: mainPair.priceChange?.h24 || 0,
            dex: mainPair.dexId
        };

        // Add demo enhancements (clearly labeled as estimated)
        const createdDate = mainPair.pairCreatedAt ? new Date(mainPair.pairCreatedAt) : new Date(Date.now() - Math.random() * 30 * 24 * 60 * 60 * 1000);
        const tokenAgeHours = (Date.now() - createdDate.getTime()) / (1000 * 60 * 60);
        
        return {
            ...realData,
            // Demo features (based on real data patterns)
            holderCount: Math.floor(realData.volume24h / 50) + Math.floor(Math.random() * 5000) + 500,
            tokenAge: Math.max(1, Math.floor(tokenAgeHours)),
            isLiquidityLocked: realData.liquidity > 100000 && Math.random() > 0.3,
            lockDuration: Math.floor(Math.random() * 300) + 60, // 60-360 days
            creatorWallet: resolvedAddress.slice(0, 8) + '...' + resolvedAddress.slice(-8),
            devHoldings: Math.floor(Math.random() * 10) + 2, // 2-12%
            burnedTokens: Math.floor(Math.random() * 25) + 10 // 10-35%
        };
    } catch (error) {
        console.error('Error fetching token data:', error);
        return null;
    }
}
       // Full demo analysis pipeline
       async function generateFullDemoAnalysis(tokenData) {
           await new Promise(resolve => setTimeout(resolve, 3000)); // Realistic processing time
           
           const simulatedOrders = generateRealisticOrderBook(tokenData);
           
           return {
               exitClusters: findExitClusters(simulatedOrders, tokenData.price),
               whaleActivity: analyzeWhaleActivity(simulatedOrders),
               riskAssessment: assessTokenRisk(tokenData, simulatedOrders),
               pumpSignals: detectPumpSignals(tokenData, simulatedOrders),
               marketSentiment: analyzeMarketSentiment(tokenData),
               entryRecommendation: generateSmartEntryRecommendation(tokenData, simulatedOrders)
           };
       }

       // Enhanced entry recommendation with zero liquidity protection
       function generateSmartEntryRecommendation(tokenData, orders) {
           let recommendation = 'WAIT';
           let confidence = 'MEDIUM';
           let reasoning = '';
           
           const currentPrice = tokenData.price;
           const currentMarketCap = tokenData.marketCap;
           
           // CRITICAL: Check for zero liquidity first
           if (tokenData.liquidity === 0) {
               recommendation = 'AVOID';
               confidence = 'EXTREME';
               reasoning = 'ZERO LIQUIDITY DETECTED - Token cannot be traded. Extreme risk of total loss.';
               
               return {
                   action: recommendation,
                   confidence: confidence,
                   reasoning: reasoning,
                   netScore: -100,
                   bullishScore: 0,
                   bearishScore: 100,
                   entryPrice: currentPrice,
                   stopLoss: currentPrice * 0.01, // Essentially worthless
                   takeProfit: currentPrice,
                   entryMarketCap: currentMarketCap,
                   stopMarketCap: currentMarketCap * 0.01,
                   targetMarketCap: currentMarketCap,
                   riskReward: 0
               };
           }
           
           // CRITICAL: Check for extremely low liquidity
           if (tokenData.liquidity < 5000) {
               recommendation = 'AVOID';
               confidence = 'HIGH';
               reasoning = 'EXTREMELY LOW LIQUIDITY - High risk of 90%+ slippage on any trade.';
               
               return {
                   action: recommendation,
                   confidence: confidence,
                   reasoning: reasoning,
                   netScore: -75,
                   bullishScore: 0,
                   bearishScore: 75,
                   entryPrice: currentPrice * 0.95,
                   stopLoss: currentPrice * 0.5, // 50% slippage expected
                   takeProfit: currentPrice * 1.1,
                   entryMarketCap: currentMarketCap * 0.95,
                   stopMarketCap: currentMarketCap * 0.5,
                   targetMarketCap: currentMarketCap * 1.1,
                   riskReward: 0.1
               };
           }
           
           // Advanced scoring algorithm
           let bullishScore = 0;
           let bearishScore = 0;
           
           // Volume analysis (30 points max)
           if (tokenData.volume24h > currentMarketCap * 0.5) bullishScore += 30;
           else if (tokenData.volume24h > currentMarketCap * 0.2) bullishScore += 20;
           else if (tokenData.volume24h < currentMarketCap * 0.05) bearishScore += 20;
           
           // Liquidity analysis (25 points max)
           if (tokenData.isLiquidityLocked) bullishScore += 25;
           else bearishScore += 30;
           
           // Holder distribution (20 points max)
           if (tokenData.holderCount > 10000) bullishScore += 20;
           else if (tokenData.holderCount > 5000) bullishScore += 15;
           else if (tokenData.holderCount < 1000) bearishScore += 15;
           
           // Token age factor (15 points max)
           if (tokenData.tokenAge < 6) bearishScore += 15; // Too new
           else if (tokenData.tokenAge < 24) bearishScore += 5;
           else if (tokenData.tokenAge > 168) bullishScore += 15; // Established
           
           // Price momentum (10 points max)
           if (tokenData.priceChange24h > 20) bullishScore += 10;
           else if (tokenData.priceChange24h > 10) bullishScore += 5;
           else if (tokenData.priceChange24h < -20) bearishScore += 15;
           
           // Calculate recommendation
           const netScore = bullishScore - bearishScore;
           
           if (netScore > 25) {
               recommendation = 'BUY';
               confidence = 'HIGH';
               reasoning = 'Strong bullish indicators align - high confidence entry signal';
           } else if (netScore > 10) {
               recommendation = 'BUY';
               confidence = 'MEDIUM';
               reasoning = 'Multiple positive factors present - moderate entry opportunity';
           } else if (netScore < -20) {
               recommendation = 'AVOID';
               confidence = 'HIGH';
               reasoning = 'High risk factors detected - avoid entry';
           } else if (netScore < -5) {
               recommendation = 'WAIT';
               confidence = 'MEDIUM';
               reasoning = 'Risk factors present - wait for better opportunity';
           } else {
               recommendation = 'WAIT';
               confidence = 'LOW';
               reasoning = 'Mixed signals - monitor for clearer direction';
           }
           
           // Calculate price targets with corresponding market caps
           const entryMultiplier = recommendation === 'BUY' ? 0.98 : 0.95; // Tighter for BUY
           const stopMultiplier = 0.85;
           const targetMultiplier = recommendation === 'BUY' ? 1.8 : 1.4; // Higher target for strong signals
           
           const entryPrice = currentPrice * entryMultiplier;
           const stopLoss = currentPrice * stopMultiplier;
           const takeProfit = currentPrice * targetMultiplier;
           
           const entryMarketCap = currentMarketCap * entryMultiplier;
           const stopMarketCap = currentMarketCap * stopMultiplier;
           const targetMarketCap = currentMarketCap * targetMultiplier;
           
           return {
               action: recommendation,
               confidence: confidence,
               reasoning: reasoning,
               netScore: netScore,
               bullishScore: bullishScore,
               bearishScore: bearishScore,
               entryPrice: entryPrice,
               stopLoss: stopLoss,
               takeProfit: takeProfit,
               entryMarketCap: entryMarketCap,
               stopMarketCap: stopMarketCap,
               targetMarketCap: targetMarketCap,
               riskReward: ((takeProfit - entryPrice) / (entryPrice - stopLoss)).toFixed(2)
           };
       }

       function generateRealisticOrderBook(tokenData) {
           const orders = [];
           const currentPrice = tokenData.price;
           const volumePattern = tokenData.volume24h / 100000; // Scale factor
           
           // Generate realistic sell orders above current price
           for (let i = 1; i <= 25; i++) {
               const priceMultiplier = 1 + (i * 0.03); // 3% increments
               const sellPrice = currentPrice * priceMultiplier;
               
               // More orders at key resistance levels
               const numOrders = Math.floor((Math.random() * 8 + 2) * (1 + volumePattern * 0.1));
               
               for (let j = 0; j < numOrders; j++) {
                   const baseSize = Math.random() * 40000 + 500;
                   const volatilityMultiplier = 1 + (Math.abs(tokenData.priceChange24h) / 100);
                   const orderSize = baseSize * volatilityMultiplier;
                   
                   orders.push({
                       price: sellPrice,
                       size: orderSize,
                       type: 'sell',
                       isWhale: orderSize > DEMO_CONFIG.WHALE_THRESHOLD
                   });
               }
           }
           
           return orders.sort((a, b) => a.price - b.price);
       }
       
       function detectPumpSignals(tokenData, orders) {
           const signals = [];
           let pumpScore = 0;
           
           const currentPrice = tokenData.price;
           const nearbyOrders = orders.filter(order => 
               order.price <= currentPrice * 1.15 && order.price > currentPrice
           );
           const resistanceValue = nearbyOrders.reduce((sum, order) => sum + order.size, 0);
           
           // Resistance analysis
           if (resistanceValue < 30000) {
               signals.push('🚀 Minimal resistance detected above current price');
               pumpScore += 25;
           } else if (resistanceValue < 60000) {
               signals.push('📈 Moderate resistance above - breakout possible');
               pumpScore += 15;
           }
           
           // Volume analysis
           if (tokenData.volume24h > tokenData.marketCap * 0.5) {
               signals.push('💥 Exceptional volume - 50%+ of market cap traded');
               pumpScore += 30;
           } else if (tokenData.volume24h > tokenData.marketCap * 0.2) {
               signals.push('📈 High volume activity - strong interest detected');
               pumpScore += 20;
           }
           
           // Price momentum
           if (tokenData.priceChange24h > 30) {
               signals.push('🔥 Explosive momentum - 30%+ daily gain');
               pumpScore += 25;
           } else if (tokenData.priceChange24h > 15) {
               signals.push('📈 Strong upward momentum detected');
               pumpScore += 15;
           }
           
           // Liquidity quality
           if (tokenData.liquidity > 200000 && tokenData.volume24h > tokenData.liquidity * 1.5) {
               signals.push('💧 Excellent liquidity with high turnover');
               pumpScore += 20;
           }
           
           // Market cap analysis
           if (tokenData.marketCap > 5000000 && tokenData.marketCap < 50000000) {
               signals.push('🎯 Optimal market cap range for explosive growth');
               pumpScore += 15;
           }
           
           // Community strength
           if (tokenData.holderCount > 15000) {
               signals.push('👥 Massive community - 15K+ holders');
               pumpScore += 20;
           } else if (tokenData.holderCount > 8000) {
               signals.push('👥 Strong community detected');
               pumpScore += 12;
           }
           
           // Safety factors
           if (tokenData.isLiquidityLocked) {
               signals.push('🔒 Liquidity locked - rug pull protection');
               pumpScore += 15;
           }
           
           if (tokenData.tokenAge > 72) {
               signals.push('⚡ Established token with proven resilience');
               pumpScore += 10;
           }
           
           let pumpPotential = 'LOW';
           if (pumpScore >= 80) pumpPotential = 'VERY HIGH';
           else if (pumpScore >= 60) pumpPotential = 'HIGH';
           else if (pumpScore >= 40) pumpPotential = 'MODERATE';
           
           return {
               signals,
               score: pumpScore,
               potential: pumpPotential,
               confidence: pumpScore >= 70 ? 'HIGH' : pumpScore >= 50 ? 'MEDIUM' : 'LOW'
           };
       }
       
       function analyzeMarketSentiment(tokenData) {
           let sentiment = 'NEUTRAL';
           const factors = [];
           
           const volumeRatio = tokenData.volume24h / (tokenData.liquidity || 1);
           if (volumeRatio > 4) {
               factors.push('Massive trading interest - volume 4x liquidity');
               sentiment = 'VERY_BULLISH';
           } else if (volumeRatio > 2) {
               factors.push('High trading interest detected');
               sentiment = 'BULLISH';
           } else if (volumeRatio < 0.3) {
               factors.push('Low trading interest - potential accumulation');
               sentiment = 'BEARISH';
           }
           
           if (tokenData.priceChange24h > 25) {
               factors.push('Explosive uptrend in progress');
               sentiment = 'VERY_BULLISH';
           } else if (tokenData.priceChange24h > 10) {
               factors.push('Strong bullish momentum');
               sentiment = sentiment === 'BEARISH' ? 'NEUTRAL' : 'BULLISH';
           } else if (tokenData.priceChange24h < -25) {
               factors.push('Severe downtrend - potential oversold');
               sentiment = 'VERY_BEARISH';
           }
           
           if (tokenData.holderCount > 20000) {
               factors.push('Massive community growth');
           } else if (tokenData.holderCount > 10000) {
               factors.push('Strong community building');
           }
           
           if (tokenData.isLiquidityLocked && tokenData.lockDuration > 180) {
               factors.push('Long-term liquidity commitment');
           }
           
           return {
               overall: sentiment,
               factors: factors
           };
       }
       
       function findExitClusters(orders, currentPrice) {
           const clusters = [];
           const priceGroups = {};
           
           // Group orders by price level (2% tolerance)
           orders.forEach(order => {
               const priceKey = Math.round(order.price / currentPrice * 50) / 50; // 2% groups
               if (!priceGroups[priceKey]) {
                   priceGroups[priceKey] = [];
               }
               priceGroups[priceKey].push(order);
           });
           
           Object.entries(priceGroups).forEach(([priceRatio, groupOrders]) => {
               if (groupOrders.length >= DEMO_CONFIG.CLUSTER_THRESHOLD) {
                   const totalValue = groupOrders.reduce((sum, order) => sum + order.size, 0);
                   const whaleCount = groupOrders.filter(order => order.isWhale).length;
                   const avgOrderSize = totalValue / groupOrders.length;
                   
                   clusters.push({
                       priceLevel: parseFloat(priceRatio) * currentPrice,
                       priceMultiplier: parseFloat(priceRatio),
                       orderCount: groupOrders.length,
                       totalValue: totalValue,
                       whaleCount: whaleCount,
                       retailCount: groupOrders.length - whaleCount,
                       avgOrderSize: avgOrderSize,
                       significance: totalValue * groupOrders.length * (1 + whaleCount * 0.5)
                   });
               }
           });
           
           return clusters.sort((a, b) => b.significance - a.significance).slice(0, 5);
       }
       
       function analyzeWhaleActivity(orders) {
           const whales = orders.filter(order => order.isWhale);
           const retail = orders.filter(order => !order.isWhale);
           
           const whaleTotal = whales.reduce((sum, order) => sum + order.size, 0);
           const retailTotal = retail.reduce((sum, order) => sum + order.size, 0);
           const totalValue = whaleTotal + retailTotal;
           
           return {
               whaleOrderCount: whales.length,
               retailOrderCount: retail.length,
               whaleTotalValue: whaleTotal,
               retailTotalValue: retailTotal,
               whaleAvgSize: whales.length > 0 ? whaleTotal / whales.length : 0,
               retailAvgSize: retail.length > 0 ? retailTotal / retail.length : 0,
               whaleDominance: totalValue > 0 ? (whaleTotal / totalValue) * 100 : 0,
               largestWhaleOrder: whales.length > 0 ? Math.max(...whales.map(w => w.size)) : 0
           };
       }
       
       function assessTokenRisk(tokenData, orders) {
           let riskScore = 0;
           const risks = [];
           const positives = [];
           
           // Liquidity analysis - ENHANCED with zero liquidity protection
           if (tokenData.liquidity === 0) {
               riskScore += 50; // Maximum penalty
               risks.push('ZERO LIQUIDITY - Token cannot be traded at all');
           } else if (tokenData.liquidity < 5000) {
               riskScore += 40;
               risks.push('Extremely low liquidity - expect 90%+ slippage');
           } else if (tokenData.liquidity < 25000) {
               riskScore += 35;
               risks.push('Very low liquidity - high slippage risk');
           } else if (tokenData.liquidity < 100000) {
               riskScore += 20;
               risks.push('Moderate liquidity - some slippage expected');
           } else {
               positives.push('Good liquidity depth');
           }
           
           // Volume analysis
           if (tokenData.volume24h < tokenData.liquidity * 0.1) {
               riskScore += 25;
               risks.push('Very low trading volume - limited market interest');
           } else if (tokenData.volume24h > tokenData.liquidity * 3) {
               positives.push('High volume turnover - strong market interest');
           }
           
           // Whale concentration
           const whaleActivity = analyzeWhaleActivity(orders);
           if (whaleActivity.whaleDominance > 80) {
               riskScore += 30;
               risks.push('Extreme whale concentration - manipulation risk');
           } else if (whaleActivity.whaleDominance > 60) {
               riskScore += 20;
               risks.push('High whale concentration');
           } else if (whaleActivity.whaleDominance < 30) {
               positives.push('Healthy whale-retail distribution');
           }
           
           // Volatility analysis
           if (Math.abs(tokenData.priceChange24h) > 60) {
               riskScore += 20;
               risks.push('Extreme volatility detected');
           } else if (Math.abs(tokenData.priceChange24h) > 30) {
               riskScore += 10;
               risks.push('High volatility - position sizing crucial');
           }
           
           // Market cap analysis
           if (!tokenData.marketCap || tokenData.marketCap < 500000) {
               riskScore += 25;
               risks.push('Very low market cap - extreme volatility risk');
           } else if (tokenData.marketCap < 5000000) {
               riskScore += 15;
               risks.push('Low market cap - high volatility expected');
           } else {
               positives.push('Substantial market cap');
           }
           
           // Holder analysis
           if (tokenData.holderCount < 500) {
               riskScore += 20;
               risks.push('Very few holders - limited distribution');
           } else if (tokenData.holderCount < 2000) {
               riskScore += 10;
               risks.push('Limited holder base');
           } else if (tokenData.holderCount > 10000) {
               positives.push('Strong holder distribution');
           }
           
           // Age analysis
           if (tokenData.tokenAge < 3) {
               riskScore += 25;
               risks.push('Extremely new token - maximum caution required');
           } else if (tokenData.tokenAge < 24) {
               riskScore += 15;
               risks.push('Very new token - high uncertainty');
           } else if (tokenData.tokenAge > 168) {
               positives.push('Established token with track record');
           }
           
           // Liquidity lock analysis
           if (!tokenData.isLiquidityLocked) {
               riskScore += 30;
               risks.push('Liquidity not locked - rug pull risk');
           } else {
               positives.push(`Liquidity locked for ${tokenData.lockDuration} days`);
           }
           
           riskScore = Math.max(0, Math.min(100, riskScore));
           
           let riskLevel = 'LOW';
           if (riskScore >= 80) riskLevel = 'EXTREME';
           else if (riskScore >= 60) riskLevel = 'HIGH';
           else if (riskScore >= 40) riskLevel = 'MODERATE';
           else if (riskScore >= 20) riskLevel = 'LOW';
           else riskLevel = 'VERY LOW';
           
           return {
               score: riskScore,
               level: riskLevel,
               risks: risks,
               positives: positives
           };
       }
       
       function logDemoUsage(address, symbol) {
           const usage = {
               platform: 'ClickShift Alpha - Demo Preview',
               mode: 'FULL_FEATURE_DEMO',
               token: symbol,
               address: address.slice(0, 8) + '...' + address.slice(-8),
               timestamp: new Date().toISOString(),
               userAgent: navigator.userAgent,
               location: Intl.DateTimeFormat().resolvedOptions().timeZone,
               features_demonstrated: [
                   'exit_cluster_analysis',
                   'whale_activity_monitoring', 
                   'smart_entry_recommendations',
                   'risk_assessment',
                   'pump_signal_detection',
                   'market_sentiment_analysis'
               ]
           };
           console.log('Demo Usage Logged:', usage);
       }
       
       // Flexible Solana address validation - accepts various formats
       function isValidSolanaAddress(address) {
    // Known token symbols - expanded list
    const knownTokens = {
        'bonk': 'DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263',
        'wif': 'EKpQGSJtjMFqKZ9KQanSqYXRcF8fBopzLHYxdM65zcjm',
        'popcat': '7GCihgDB8fe6KNjn2MYtkzZcRjQy3t9GHdC8uHYmW2hr',
        'sol': 'So11111111111111111111111111111111111111112',
        'jup': 'JUPyiwrYJFskUPiHa7hkeR8VUtAeFoSYbKedZNsDvCN',
        'pyth': 'HZ1JovNiVvGrGNiiYvEozEVgZ58xaU3RKwX8eACQBCt3',
        'usdc': 'EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v'
    };
    
    // If it matches a known symbol, it's valid
    if (knownTokens[address.toLowerCase()]) {
        return true;
    }
    
    // Handle any address ending with "bonk" (case insensitive)
    if (address.toLowerCase().endsWith('bonk')) {
        return true;
    }
    
    // Accept Solana addresses between 32 - 44 characters
    if (address.length >= 32 && address.length <= 44) {
        console.log('Invalid length:', address.length, 'for address:', address);
        return false;
    }
    
    // Check for valid base58 characters (no 0, O, I, l)
    const base58Regex = /^[1-9A-HJ-NP-Za-km-z]{32,44}$/;
    const isValid = base58Regex.test(address);
    
    if (!isValid) {
        console.log('Failed base58 validation:', address);
    }
    
    return isValid;
}
       
       function displayFullResults(tokenData, analysis) {
           document.getElementById('loading').style.display = 'none';
           document.getElementById('content').style.display = 'block';
           
           // Display all sections with risk assessment moved up
           displayEntryRecommendation(analysis.entryRecommendation);
           displayRiskAssessment(analysis.riskAssessment); // Moved up for better UX
           displayEnhancedTokenInfo(tokenData);
           displayPumpAnalysis(analysis.pumpSignals, analysis.marketSentiment);
           displayExitClusters(analysis.exitClusters, tokenData);
           displayWhaleAnalysis(analysis.whaleActivity);
       }

       function displayEntryRecommendation(rec) {
           const entryDiv = document.getElementById('entryRecommendation');
           let recClass = 'rec-wait';
           
           if (rec.action === 'BUY') recClass = 'rec-buy';
           else if (rec.action === 'AVOID') recClass = 'rec-avoid';
           
           const content = `
               <div class="recommendation-badge ${recClass}">${rec.action}</div>
               <div style="margin-bottom: 15px;">
                   <strong>Confidence:</strong> ${rec.confidence} | 
                   <strong>Algorithm Score:</strong> ${rec.netScore} 
                   <span style="color: #26C281;">(Bull: ${rec.bullishScore})</span> - 
                   <span style="color: #FF7E00;">(Bear: ${rec.bearishScore})</span>
               </div>
               <div style="margin-bottom: 15px;">
                   <strong>Analysis:</strong> ${rec.reasoning}
               </div>
               
               <div class="price-targets">
                   <div class="target-item">
                       <div style="font-weight: 600; margin-bottom: 5px;">📍 Entry Point</div>
                       <div class="target-price">$${rec.entryPrice.toFixed(8)}</div>
                       <div class="target-mcap">MC: $${rec.entryMarketCap.toLocaleString()}</div>
                   </div>
                   <div class="target-item">
                       <div style="font-weight: 600; margin-bottom: 5px;">🛑 Stop Loss</div>
                       <div class="target-price">$${rec.stopLoss.toFixed(8)}</div>
                       <div class="target-mcap">MC: $${rec.stopMarketCap.toLocaleString()}</div>
                   </div>
                   <div class="target-item">
                       <div style="font-weight: 600; margin-bottom: 5px;">🎯 Take Profit</div>
                       <div class="target-price">$${rec.takeProfit.toFixed(8)}</div>
                       <div class="target-mcap">MC: $${rec.targetMarketCap.toLocaleString()}</div>
                   </div>
               </div>
               
               <div style="padding: 10px; background: rgba(36, 94, 237, 0.05); border-radius: 8px; font-size: 0.9em;">
                   <strong>⚡ Risk/Reward:</strong> 1:${rec.riskReward} | 
                   <strong>📊 Demo Note:</strong> Analysis based on algorithmic intelligence preview
               </div>
           `;
           
           document.getElementById('entryContent').innerHTML = content;
           entryDiv.style.display = 'block';
       }

       function displayEnhancedTokenInfo(tokenData) {
           const tokenInfoDiv = document.getElementById('tokenInfo');
           
           tokenInfoDiv.innerHTML = `
               <div class="info-card">
                   <h3>Token</h3>
                   <div class="value">${tokenData.symbol}</div>
                   <div style="color: #666; font-size: 0.9em;">${tokenData.name}</div>
               </div>
               <div class="info-card">
                   <h3>Current Price</h3>
                   <div class="value">$${tokenData.price.toFixed(8)}</div>
                   <div class="change ${tokenData.priceChange24h >= 0 ? 'positive' : 'negative'}">
                       ${tokenData.priceChange24h >= 0 ? '+' : ''}${tokenData.priceChange24h.toFixed(2)}% (24h)
                   </div>
               </div>
               <div class="info-card">
                   <h3>Market Cap</h3>
                   <div class="value">$${tokenData.marketCap ? tokenData.marketCap.toLocaleString() : 'N/A'}</div>
                   <div style="color: #666; font-size: 0.85em;">Real-time data</div>
               </div>
               <div class="info-card">
                   <h3>24h Volume</h3>
                   <div class="value">$${tokenData.volume24h.toLocaleString()}</div>
                   <div style="color: #666; font-size: 0.85em;">Trading activity</div>
               </div>
                               <div class="info-card">
                   <h3>Liquidity</h3>
                   <div class="value">${tokenData.liquidity.toLocaleString()}</div>
                   <div style="color: #666; font-size: 0.85em;">Available depth</div>
                   ${tokenData.liquidity === 0 ? `
                       <div style="background: #FF6B6B; color: white; padding: 5px; border-radius: 5px; margin-top: 8px; font-size: 0.8em;">
                           ⚠️ ZERO LIQUIDITY - CANNOT TRADE
                       </div>
                   ` : tokenData.liquidity < 10000 ? `
                       <div style="background: #FF7E00; color: white; padding: 5px; border-radius: 5px; margin-top: 8px; font-size: 0.8em;">
                           ⚠️ VERY LOW - HIGH SLIPPAGE RISK
                       </div>
                   ` : ''}
               </div>
               <div class="info-card">
                   <h3>Holder Count</h3>
                   <div class="value">${tokenData.holderCount.toLocaleString()}</div>
                   <div style="color: #FF7E00; font-size: 0.85em;">*Estimated</div>
               </div>
               <div class="info-card">
                   <h3>Token Age</h3>
                   <div class="value">${tokenData.tokenAge}h</div>
                   <div style="color: #FF7E00; font-size: 0.85em;">*Estimated</div>
               </div>
               <div class="info-card">
                   <h3>Liquidity Lock</h3>
                   <div class="value">
                       ${tokenData.isLiquidityLocked ? '🔒 LOCKED' : '⚠️ UNLOCKED'}
                   </div>
                   <div style="color: #FF7E00; font-size: 0.85em;">
                       ${tokenData.isLiquidityLocked ? `*Est. ${tokenData.lockDuration}d` : '*Estimated'}
                   </div>
               </div>
               <div class="info-card">
                   <h3>DEX Platform</h3>
                   <div class="value">${tokenData.dex}</div>
                   <div style="color: #666; font-size: 0.85em;">Trading venue</div>
               </div>
           `;
       }
       
       function displayPumpAnalysis(pumpSignals, marketSentiment) {
           const pumpDiv = document.getElementById('pumpAnalysis');
           const pumpClass = `pump-${pumpSignals.potential.toLowerCase().replace(' ', '-')}`;
           
           pumpDiv.innerHTML = `
               <div class="analysis-card">
                   <div class="pump-indicator ${pumpClass}">
                       ${pumpSignals.potential} PUMP POTENTIAL (${pumpSignals.score}/100)
                   </div>
                   <div style="margin-bottom: 20px;">
                       <strong>Market Sentiment:</strong> ${marketSentiment.overall} | 
                       <strong>Confidence:</strong> ${pumpSignals.confidence}
                       ${marketSentiment.factors.length > 0 ? `
                           <div style="margin-top: 8px;">
                               ${marketSentiment.factors.map(factor => `<span style="color: #666;">• ${factor}</span>`).join('<br>')}
                           </div>
                       ` : ''}
                   </div>
                   ${pumpSignals.signals.length > 0 ? `
                       <div>
                           <strong>🚨 Alpha Signals Detected:</strong>
                           <ul style="margin-top: 10px; padding-left: 20px;">
                               ${pumpSignals.signals.map(signal => `<li style="margin-bottom: 8px;">${signal}</li>`).join('')}
                           </ul>
                       </div>
                   ` : '<p>No strong pump signals detected in current market conditions.</p>'}
                   
                   <div style="margin-top: 20px; padding: 15px; background: rgba(36, 94, 237, 0.05); border-radius: 10px;">
                       <strong>💎 Alpha Strategy:</strong>
                       <p style="margin-top: 5px; color: #666;">
                           ${getPumpRecommendation(pumpSignals.potential)}
                       </p>
                   </div>
               </div>
           `;
       }
       
       function getPumpRecommendation(pumpPotential) {
           switch(pumpPotential) {
               case 'VERY HIGH':
                   return '🟢 EXCEPTIONAL ALPHA DETECTED: Multiple bullish catalysts aligned. Consider aggressive position with strict risk management.';
               case 'HIGH':
                   return '🟢 Strong pump indicators present. Enter on dips with proper position sizing and tight stops.';
               case 'MODERATE':
                   return '🟡 Mixed signals - some bullish factors present. Wait for confirmation or use smaller test position.';
               default:
                   return '🔴 Limited pump potential detected. Focus on other opportunities or wait for better setup.';
           }
       }
       
       function displayExitClusters(clusters, tokenData) {
           const clustersDiv = document.getElementById('exitClusters');
           
           if (clusters.length === 0) {
               clustersDiv.innerHTML = '<div class="analysis-card"><p>No significant exit clusters detected in price range.</p></div>';
               return;
           }
           
           clustersDiv.innerHTML = clusters.map((cluster, index) => {
               const projectedMarketCap = tokenData.marketCap ? (tokenData.marketCap * cluster.priceMultiplier) : null;
               const gainPercent = ((cluster.priceMultiplier - 1) * 100).toFixed(1);
               
               return `
                   <div class="cluster-item">
                       <div class="cluster-header">
                           <div class="cluster-price">
                               🎯 Exit Zone #${index + 1}: $${cluster.priceLevel.toFixed(8)}
                           </div>
                           <div class="cluster-change">${gainPercent}% Target</div>
                       </div>
                       <div class="cluster-details">
                           <div><strong>Total Exit Value:</strong> $${cluster.totalValue.toLocaleString()}</div>
                           <div><strong>Order Count:</strong> ${cluster.orderCount}</div>
                           <div><strong>Whale Orders:</strong> 🐋 ${cluster.whaleCount}</div>
                           <div><strong>Retail Orders:</strong> 🐟 ${cluster.retailCount}</div>
                           <div><strong>Avg Order Size:</strong> $${cluster.avgOrderSize.toLocaleString()}</div>
                           ${projectedMarketCap ? `<div><strong>Target Market Cap:</strong> $${projectedMarketCap.toLocaleString()}</div>` : ''}
                       </div>
                       <div style="margin-top: 10px; padding: 8px; background: rgba(255, 152, 0, 0.1); border-radius: 6px; font-size: 0.85em;">
                           <strong>Resistance Analysis:</strong> ${getResistanceAnalysis(cluster)}
                       </div>
                   </div>
               `;
           }).join('');
       }

       function getResistanceAnalysis(cluster) {
           if (cluster.whaleCount > cluster.retailCount) {
               return `Strong whale resistance - expect significant selling pressure at this level.`;
           } else if (cluster.totalValue > 100000) {
               return `Heavy resistance zone - may require multiple attempts to break through.`;
           } else {
               return `Moderate resistance - breakout possible with sufficient volume.`;
           }
       }
       
       function displayWhaleAnalysis(whaleActivity) {
           const whaleDiv = document.getElementById('whaleAnalysis');
           const dominanceColor = whaleActivity.whaleDominance > 70 ? '#FF7E00' : 
                                   whaleActivity.whaleDominance > 50 ? '#FFB347' : '#26C281';
           
           whaleDiv.innerHTML = `
               <div class="token-info">
                   <div class="info-card">
                       <h3>🐋 Whale Orders</h3>
                       <div class="value">${whaleActivity.whaleOrderCount}</div>
                       <div>Avg: $${whaleActivity.whaleAvgSize.toLocaleString()}</div>
                   </div>
                   <div class="info-card">
                       <h3>🐟 Retail Orders</h3>
                       <div class="value">${whaleActivity.retailOrderCount}</div>
                       <div>Avg: $${whaleActivity.retailAvgSize.toLocaleString()}</div>
                   </div>
                   <div class="info-card">
                       <h3>📊 Whale Dominance</h3>
                       <div class="value" style="color: ${dominanceColor}">
                           ${whaleActivity.whaleDominance.toFixed(1)}%
                       </div>
                       <div>of total exit liquidity</div>
                   </div>
                   <div class="info-card">
                       <h3>🎯 Largest Exit</h3>
                       <div class="value">$${whaleActivity.largestWhaleOrder.toLocaleString()}</div>
                       <div>Single whale order</div>
                   </div>
               </div>
               <div style="margin-top: 15px; padding: 15px; background: rgba(36, 94, 237, 0.05); border-radius: 10px;">
                   <strong>🔍 Whale Intelligence:</strong>
                   <p style="margin-top: 5px; color: #666;">
                       ${getWhaleAnalysis(whaleActivity)}
                   </p>
               </div>
           `;
       }

       function getWhaleAnalysis(whaleActivity) {
           if (whaleActivity.whaleDominance > 80) {
               return 'EXTREME whale concentration detected. High manipulation risk - trade with maximum caution.';
           } else if (whaleActivity.whaleDominance > 60) {
               return 'Heavy whale presence. Expect increased volatility and potential coordinated moves.';
           } else if (whaleActivity.whaleDominance < 30) {
               return 'Healthy whale-retail balance. Good distribution suggests organic price movement.';
           } else {
               return 'Moderate whale activity. Monitor for unusual patterns before major price moves.';
           }
       }
       
       function displayRiskAssessment(riskAssessment) {
           const riskDiv = document.getElementById('riskAssessment');
           const riskSection = document.getElementById('riskSection');
           const riskClass = `risk-${riskAssessment.level.toLowerCase().replace(' ', '-')}`;
           
           riskDiv.innerHTML = `
               <div class="analysis-card">
                   <div class="risk-indicator ${riskClass}">
                       ${riskAssessment.level} RISK (${riskAssessment.score}/100)
                   </div>
                   
                   ${riskAssessment.positives.length > 0 ? `
                       <div style="margin-bottom: 20px;">
                           <strong style="color: #26C281;">✅ Positive Factors:</strong>
                           <ul style="margin-top: 10px; padding-left: 20px;">
                               ${riskAssessment.positives.map(positive => `<li style="margin-bottom: 5px; color: #26C281;">${positive}</li>`).join('')}
                           </ul>
                       </div>
                   ` : ''}
                   
                   ${riskAssessment.risks.length > 0 ? `
                       <div style="margin-bottom: 20px;">
                           <strong style="color: #FF7E00;">⚠️ Risk Factors:</strong>
                           <ul style="margin-top: 10px; padding-left: 20px;">
                               ${riskAssessment.risks.map(risk => `<li style="margin-bottom: 5px; color: #FF7E00;">${risk}</li>`).join('')}
                           </ul>
                       </div>
                   ` : '<p style="margin-bottom: 20px; color: #26C281;">✅ No major risk factors detected in current analysis.</p>'}
                   
                   <div style="padding: 15px; background: rgba(36, 94, 237, 0.05); border-radius: 10px;">
                       <strong>⚠️ Risk Management Protocol:</strong>
                       <p style="margin-top: 5px; color: #666;">
                           ${getRiskRecommendation(riskAssessment.level)}
                       </p>
                   </div>
               </div>
           `;
           
           // Show the risk section
           riskSection.style.display = 'block';
       }
       
       function getRiskRecommendation(riskLevel) {
           switch(riskLevel) {
               case 'VERY LOW':
                   return '✅ Excellent risk profile. Suitable for larger position sizes with standard stop losses.';
               case 'LOW':
                   return '✅ Good risk profile for alpha plays. Monitor whale activity and maintain disciplined exits.';
               case 'MODERATE':
                   return '⚠️ Moderate risk detected. Use smaller position sizes and implement tight stop losses.';
               case 'HIGH':
                   return '🟡 High risk environment. Recommended only for experienced traders with advanced risk management.';
               case 'EXTREME':
                   return '🔴 EXTREME RISK DETECTED. Avoid or use only micro positions for speculation. Not suitable for most traders.';
               default:
                   return 'Assess all risk factors carefully and never risk more than you can afford to lose.';
           }
       }
       
       function showError(message) {
           document.getElementById('loading').style.display = 'none';
           document.getElementById('content').innerHTML = `
               <div class="error">
                   <strong>Analysis Error:</strong> ${message}
                   <br><br>
                   This could indicate:
                   <ul style="margin-top: 10px; padding-left: 20px;">
                       <li>Invalid or non-existent token contract address</li>
                       <li>Token not yet listed on supported DEX platforms</li>
                       <li>Network connectivity or API issues</li>
                       <li>Insufficient trading data for analysis</li>
                   </ul>
                   <br>
                   <strong>💡 Try:</strong> Verify the contract address and ensure the token has trading activity.
               </div>
           `;
           document.getElementById('content').style.display = 'block';
       }
       // Track analysis count
let analysisCount = parseInt(localStorage.getItem('analysisCount') || '0');
let hasSeenPopup = localStorage.getItem('hasSeenBotPopup') === 'true';
let emailCaptured = localStorage.getItem('emailCaptured') === 'true';

// Increment on each analysis (add this to your analyzeToken function)
function trackAnalysis() {
    analysisCount++;
    localStorage.setItem('analysisCount', analysisCount);
    
    // Show popup after 2nd analysis if not seen
    if (analysisCount === 2 && !hasSeenPopup && !emailCaptured) {
        setTimeout(() => showBotPopup(), 3000); // Show after 3 seconds
    }
    
    // Show different popup after 5th analysis
    if (analysisCount === 5 && !emailCaptured) {
        setTimeout(() => showPremiumPopup(), 3000);
    }
}

// Bot acquisition popup
function showBotPopup() {
    const popupHTML = `
        <div id="bot-popup" style="
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
        ">
            <div style="
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                border-radius: 20px;
                padding: 40px;
                max-width: 500px;
                margin: 20px;
                position: relative;
                box-shadow: 0 20px 60px rgba(0,0,0,0.3);
                animation: slideUp 0.4s ease;
            ">
                <button onclick="closePopup()" style="
                    position: absolute;
                    top: 15px;
                    right: 15px;
                    background: rgba(255,255,255,0.2);
                    border: none;
                    color: white;
                    font-size: 24px;
                    width: 35px;
                    height: 35px;
                    border-radius: 50%;
                    cursor: pointer;
                ">×</button>
                
                <h2 style="color: white; margin-bottom: 20px; font-size: 28px;">
                    🔥 You Found a ${Math.floor(Math.random() * 50 + 10)}x Gem!
                </h2>
                
                <p style="color: white; margin-bottom: 25px; font-size: 16px; line-height: 1.6;">
                    But what if you could find them <strong>BEFORE</strong> they pump?
                    <br><br>
                    Join 500+ traders getting new token alerts in <strong>&lt;30 seconds</strong> of launch!
                </p>
                
                <div style="
                    background: rgba(0,0,0,0.2);
                    border-radius: 10px;
                    padding: 15px;
                    margin-bottom: 25px;
                ">
                    <p style="color: #ffd700; margin: 0; font-weight: bold;">
                        ⚡ Last alert: $MICKEY → +450% in 2 hours
                    </p>
                </div>
                
                <div id="email-form" style="margin-bottom: 20px;">
                    <input type="email" id="popup-email" placeholder="Enter your email for exclusive alerts" style="
                        width: 100%;
                        padding: 15px;
                        border-radius: 10px;
                        border: none;
                        font-size: 16px;
                        margin-bottom: 15px;
                    ">
                    
                    <button onclick="submitEmail()" style="
                        width: 100%;
                        padding: 15px;
                        background: linear-gradient(45deg, #00ff88, #00cc66);
                        color: #1a1a1a;
                        border: none;
                        border-radius: 10px;
                        font-size: 18px;
                        font-weight: bold;
                        cursor: pointer;
                        transition: transform 0.2s;
                    " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                        Get Instant Access →
                    </button>
                </div>
                
                <div style="text-align: center;">
                    <a href="https://t.me/ClickShiftAlphaBot" target="_blank" style="
                        color: white;
                        text-decoration: none;
                        opacity: 0.8;
                        font-size: 14px;
                    ">Skip to Telegram Bot →</a>
                </div>
            </div>
        </div>
        
        <style>
            @keyframes fadeIn {
                from { opacity: 0; }
                to { opacity: 1; }
            }
            @keyframes slideUp {
                from { transform: translateY(30px); opacity: 0; }
                to { transform: translateY(0); opacity: 1; }
            }
        </style>
    `;
    
    document.body.insertAdjacentHTML('beforeend', popupHTML);
    localStorage.setItem('hasSeenBotPopup', 'true');
}

// Premium conversion popup
function showPremiumPopup() {
    const popupHTML = `
        <div id="bot-popup" style="...similar styling...">
            <div style="...similar container...">
                <h2 style="color: white;">💎 You're a Power User!</h2>
                <p style="color: white;">You've analyzed ${analysisCount} tokens. Ready to level up?</p>
                
                <ul style="color: white; line-height: 2;">
                    <li>⚡ Get alerts BEFORE they appear here</li>
                    <li>📊 Advanced AI predictions</li>
                    <li>🎯 95% accuracy on rug detection</li>
                    <li>💰 Exit point predictions</li>
                </ul>
                
                <a href="/bot-landing.html" style="...button styling...">
                    Unlock Premium Features →
                </a>
            </div>
        </div>
    `;
    
    document.body.insertAdjacentHTML('beforeend', popupHTML);
}

// Submit email function
async function submitEmail() {
    const email = document.getElementById('popup-email').value;
    if (!email || !email.includes('@')) {
        alert('Please enter a valid email');
        return;
    }
    
    // Store email (send to your backend later)
    localStorage.setItem('userEmail', email);
    localStorage.setItem('emailCaptured', 'true');
    
    // Track in Google Analytics
    if (typeof gtag !== 'undefined') {
        gtag('event', 'email_capture', {
            'source': 'analysis_popup',
            'analysis_count': analysisCount
        });
    }
    
    // Show success message
    document.getElementById('email-form').innerHTML = `
        <div style="text-align: center; padding: 20px;">
            <p style="color: #00ff88; font-size: 20px; margin-bottom: 15px;">
                ✅ Success! Check your email for access.
            </p>
            <a href="https://t.me/ClickShiftAlphaBot" target="_blank" style="
                display: inline-block;
                padding: 12px 30px;
                background: white;
                color: #764ba2;
                border-radius: 10px;
                text-decoration: none;
                font-weight: bold;
            ">Join Telegram Bot →</a>
        </div>
    `;
    
    // Auto-close after 5 seconds
    setTimeout(() => closePopup(), 5000);
}

// Close popup
function closePopup() {
    const popup = document.getElementById('bot-popup');
    if (popup) popup.remove();
}

// Add this to your existing analyzeToken function
// After displaying results, call:
// trackAnalysis();
   </script>
</body>
</html>